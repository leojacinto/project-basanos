# ServiceNow Instance Configuration
# Copy this to .env and fill in your values
#
# Auth mode is detected automatically:
#   - CLIENT_ID + CLIENT_SECRET only           -> OAuth client_credentials
#   - CLIENT_ID + CLIENT_SECRET + USER + PASS  -> OAuth password grant
#   - USER + PASS only                         -> Basic auth (not recommended for production)

SERVICENOW_INSTANCE_URL=https://your-instance.service-now.com

# ── Option 1: OAuth (recommended) ──────────────────────────────
# Register an OAuth app in ServiceNow:
#   System OAuth > Application Registry > Create an OAuth API endpoint
# Scope the app to read-only tables (sys_dictionary, incident, cmdb_ci, etc.)
SERVICENOW_CLIENT_ID=
SERVICENOW_CLIENT_SECRET=

# For OAuth password grant, also provide user credentials:
# SERVICENOW_USERNAME=
# SERVICENOW_PASSWORD=

# ── Option 2: Basic auth (dev/mock only) ───────────────────────
# SERVICENOW_USERNAME=admin
# SERVICENOW_PASSWORD=your-password

# ── MCP Proxy settings ────────────────────────────────────────
# Basanos proxies ServiceNow's native MCP Server with constraint enforcement.
# The MCP Server must be enabled on your instance (MCP Server Console).
# OAuth token is obtained via client_credentials grant using the same
# CLIENT_ID and CLIENT_SECRET above.
#
# Full MCP Server URL (from MCP Server Console > Servers > Server URL):
SERVICENOW_MCP_SERVER_URL=https://your-instance.service-now.com/sncapps/mcp-server/mcp/sn_mcp_server_default
SERVICENOW_MCP_TOKEN_FILE=~/.basanos/servicenow-mcp-token.json

# ── Import settings ────────────────────────────────────────────
# Tables to import for schema discovery (comma-separated)
SERVICENOW_IMPORT_TABLES=incident,cmdb_ci,cmdb_ci_service,change_request,problem,task_sla,sys_user_group

# Max records per table for entity sync
SERVICENOW_SYNC_LIMIT=100
